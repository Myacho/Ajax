<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>Ajax进阶</title>
		<link rel="stylesheet" href="css/style.css" />
		<script type="text/javascript" src="js/jquery-3.2.1.js"></script>
		<script type="text/javascript">
			$(function() {
				$("form input[type=button]").click(function() {
					/*
					//ajax局部请求，fail,always,done代替error,complete,success，没有发送请求前的函数
					$.post("user1.php", $("form").serialize()).done(function() {
						alert("请求成功后才执行");
					}).always(function() {
						alert("请求完成之后，不管请求是否失败");
					}).fail(function() {
						alert("请求失败后");
					});
					*/
					
					
					$.ajax({
						type:"POST",
						url:"user.php",
						data:$("form").serialize(),
						success:function(response,status,xhr){
							alert("请求成功后");
						},
						complete:function() {
							alert("请求完成后");
						},
						beforeSend:function(){
							alert("发送请求之前");
						},
						error:function(){
							alert("请求失败");
						}
					});

				});/*
				//请求全局事件
				$(document).ajaxSend(function(){
					alert("发送请求之前");
				}).ajaxComplete(function(){
					alert("请求完成之后，不管请求是否失败");
				}).ajaxSuccess(function(){
					alert("请求成功后才执行");
				}).ajaxError(function(){
					alert("请求失败后");
				});
				*/

			});
		</script>
	</head>

	<body>
		<!--<input type="button" value="异步加载数据" />-->
		<form>
			用户名：<input type="text" name="user" /> 邮箱：
			<input type="text" name="email" />
			<input type="radio" name="sex" value="男" />男
			<input type="radio" name="sex" value="女" />女
			<input type="button" value="提交" />
		</form>
		<span class="loading">正在加载中...</span>
		<div id="box"></div>
	</body>

</html>